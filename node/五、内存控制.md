## 内存控制

其实javaScript和java一样都有自动垃圾回收机制，所以开发者一般情况下是不需要关心这个问题的，但是得了解垃圾回收机制是怎么运行的，从而在你书写代码的时候能够以最佳的方式去写出优质的代码，

### 简介

node --max-old-space-size = 1700

node --max-new-space-size = 1024

V8引擎的垃圾回收机制，就是新生代(Scavenge 算法)和老生代的替换过程，新生代又分为From和to的两个空间，在新生代里面，Form和to进行不停的交换；在替换过程中如果达到了晋升的条件的话就会从新生代转移到老生代中去，
晋升条件：
 1、如果To空间占用超过25%的时候，直接晋升到老生代里面
 2、通过判断当前内存地址是否已经经历过一次Scavenge 回收，如果经历过就晋升到老生代中去
 
 老生代主要为两个方式 Mark-Sweep(标记清楚) & Mark-Compack (标记整理)
 
### 查看内存使用情况
```javascript
  process.neniryUsage();
  
  {
    rss: 13852672,
    heapTotal: 6131200, // 总内存
    heapUsed: 2757120, // 已使用的内存
  }
```
## 内存泄漏

造成内存泄漏的情况如下
 -  缓存
 -  队列消费不及时
 -  作用域未释放

### 注意点
 - 谨慎将内存当作缓存
 - 增加缓存策略限制（增加最大值，增加释放时机）

